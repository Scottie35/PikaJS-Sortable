/** 
 *	@license PikaJS Sortable plugin 1.0
 *	Â© 2022 Scott Ogrin
 * 	MIT License
 */
!function(t){function e(e,r,a){var o='<div class="droptarget"></div>',i={width:t.sortable.active.width+"px",height:t.sortable.active.height+"px",margin:t.sortable.active.margin,display:t.sortable.active.display};"inline-block"==i.display&&(i["vertical-align"]="bottom"),t.sortable.active.containers.each(function(){this.find(".droptarget").each(function(){this.remove()})}),"before"==e?a.before(o):"after"==e?a.after(o):r.append(o),r.find(".droptarget").css(i)}t.sortable={Version:"1.0",defaults:{direction:"vertical",on_dragstart:null,on_dragend:null,on_dragenter:null,on_dragover:null,on_dragleave:null,on_drop:null},active:{}},t.extend(t.fn,{sortable:function(r,a){var o=t.R(),i=this,n=this.find(r);(a=a||{}).direction=a.direction||t.sortable.defaults.direction,a.on_dragstart=a.on_dragstart||t.sortable.defaults.on_dragstart,a.on_dragend=a.on_dragend||t.sortable.defaults.on_dragend,a.on_dragenter=a.on_dragenter||t.sortable.defaults.on_dragenter,a.on_dragover=a.on_dragover||t.sortable.defaults.on_dragover,a.on_dragleave=a.on_dragleave||t.sortable.defaults.on_dragleave,a.on_drop=a.on_drop||t.sortable.defaults.on_drop,0!=i.length&&0!=n.length&&(i.each(function(){this.data("sortid",o)}),n.each(function(){this.attr("draggable","true")}),n.on("dragstart",function(e){t.sortable.active={id:o,containers:i,dragexpr:r,direction:a.direction,timer:null,position:{x:0,y:0},target:t(e.currentTarget),width:t(e.currentTarget).width()-6,height:t(e.currentTarget).height()-6,margin:t(e.currentTarget).css("margin"),display:t(e.currentTarget).css("display")},t(this).addClass("dragging"),t.t(a.on_dragstart,"f")&&a.on_dragstart.call(this,e)}),n.on("dragend",function(e){t(this).removeClass("dragging"),t(".droptarget").each(function(){this.remove()}),t.t(a.on_dragend,"f")&&a.on_dragend.call(this,e)}),i.on("dragenter",function(e){t.t(a.on_dragenter,"f")&&a.on_dragenter.call(this,e)}),i.on("dragover",function(i){var n=t(this);if(n.data("sortid")!=o||o!=t.sortable.active.id)return!0;if(t.S(i),null==t.sortable.active.timer){var d=i.pageX,s=i.pageY,l=t(i.target),g="H";if(Math.abs(s-t.sortable.active.position.y)>Math.abs(d-t.sortable.active.position.x)&&(g="V"),t.sortable.active.position.x=d,t.sortable.active.position.y=s,l.length>0&&!l.hasClass("droptarget")){var c=!1;if(n.find(r).each(function(){var t=this.position(),o=this.width(),i=this.height(),l=this.next(r);if("vertical"==a.direction){if(s<t.top+i/2)return e("before",n,this),c=!0,!1;if(l.length>0&&s>t.top+i/2&&s<l.position().top+l.height()/2)return e("after",n,this),c=!0,!1}else if("horizontal"==a.direction){if(d<t.left+o/2)return e("before",n,this),c=!0,!1;if(l.length>0&&d>t.left+o/2&&d<l.position().left+l.width()/2)return e("after",n,this),c=!0,!1}else if("grid"==a.direction&&d>t.left&&d<t.left+o&&s>t.top&&s<t.top+i)return"H"==g&&d<t.left+o/2||"V"==g&&s<t.top+i/2?e("after",n,this):e("before",n,this),c=!0,!1}),!c&&"grid"!=a.direction)return e("last",n),!1}t.t(a.on_dragover,"f")&&a.on_dragover.call(this,i),t.sortable.active.timer=setTimeout(function(){t.sortable.active.timer=null},10)}return!1}),i.on("dragleave",function(e){t.t(a.on_dragleave,"f")&&a.on_dragleave.call(this,e)}),i.on("drop",function(e){t.S(e),"grid"==t.sortable.active.direction&&t(".droptarget").next(t.sortable.active.dragexpr).length>0?(t(".droptarget").next(t.sortable.active.dragexpr).before(t.sortable.active.target),t(".droptarget").remove()):t(".droptarget").replace(t.sortable.active.target),t.t(a.on_drop,"f")&&a.on_drop.call(this,e)}))},removeSortable:function(e){var r=this,a=t(e);0!=r.length&&0!=a.length&&(a.each(function(){this.removeAttr("draggable")}),r.each(function(){this.removeData("sortid")}),a.off("dragstart"),a.off("dragend"),r.off("dragenter"),r.off("dragover"),r.off("dragleave"),r.off("drop"))}})}(Pika);